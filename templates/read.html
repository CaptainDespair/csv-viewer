{% extends 'base.html' %}
{% block body %}
    <form action="/">
      <button>К управленю БД</button>
    </form>
    
    <input 
  type="text" 
  id="myInput" 
  onkeyup="myFunction()" 
  placeholder="Search for names or countries.." 
  title="Type in a name or a country">
  

    <script>
    	const myFunction = () => {
  const trs = document.querySelectorAll('my_id tr:not(.header)')
  const filter = document.querySelector('myInput').value
  const regex = new RegExp(filter, 'i')
  const isFoundInTds = td => regex.test(td.innerHTML)
  const isFound = childrenArr => childrenArr.some(isFoundInTds)
  const setTrStyleDisplay = ({ style, children }) => {
    style.display = isFound([
      ...children // <-- All columns
    ]) ? '' : 'none' 
  }
  
  trs.forEach(setTrStyleDisplay)
}
    </script>


    <br>
      {{ info }}
      {{ file_to_html |safe }}

    <style>
      .dataframe table {
        border-collapse: collapse;
      }

      .dataframe th {
          color: 
      #fffdc4;
          background: 
      #006868;
          cursor: pointer;
      }

      .dataframe td,
      .dataframe th {
          width: 80px;
          height: 40px;
          text-align: center;
      }

      th.sorted[data-order="1"],
      th.sorted[data-order="-1"] {
          position: relative;
      }

      th.sorted[data-order="1"]::after,
      th.sorted[data-order="-1"]::after {
          right: 8px;
          position: absolute;
      } 

      th.sorted[data-order="-1"]::after {
          content: "▼"
      }

      th.sorted[data-order="1"]::after {
          content: "▲"
      }
    </style>

    <script>
      document.addEventListener('DOMContentLoaded', () => {

      const getSort = ({ target }) => {
          const order = (target.dataset.order = -(target.dataset.order || -1));
          const index = [...target.parentNode.cells].indexOf(target);
          const collator = new Intl.Collator(['en', 'ru'], { numeric: true });
          const comparator = (index, order) => (a, b) => order * collator.compare(
              a.children[index].innerHTML,
              b.children[index].innerHTML
          );

          for(const tBody of target.closest('table').tBodies)
              tBody.append(...[...tBody.rows].sort(comparator(index, order)));

          for(const cell of target.parentNode.cells)
              cell.classList.toggle('sorted', cell === target);
      };

      document.querySelectorAll('.dataframe thead').forEach(tableTH => tableTH.addEventListener('click', () => getSort(event)));

      });

    </script>


  

{% endblock %}